<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LomaVerse - Scenario Builder</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.148.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.148.0/examples/jsm/"
        }
      }
    </script>
  </head>
  <body>
    <div class="container">
      <div class="sidebar">
        <h2>Scenario Builder</h2>

        <!-- Navigation -->
        <div class="controls">
          <a href="/" class="button secondary">Back to Simulation</a>
        </div>

        <!-- Scenario Name -->
        <div class="form-group">
          <label class="label">Scenario Name</label>
          <input type="text" id="scenarioName" class="input" required />
        </div>

        <!-- Planet Configuration Form -->
        <form id="planetForm" class="planet-form">
          <div class="form-group">
            <label class="label">Name</label>
            <input type="text" id="planetName" class="input" required />
          </div>

          <div class="form-group">
            <label class="label">Position (x, y, z)</label>
            <div class="input-group">
              <input
                type="number"
                id="posX"
                class="input"
                step="0.01"
                required
              />
              <input
                type="number"
                id="posY"
                class="input"
                step="0.01"
                required
              />
              <input
                type="number"
                id="posZ"
                class="input"
                step="0.01"
                value="0"
              />
            </div>
          </div>

          <div class="form-group">
            <label class="label">Velocity (vx, vy, vz) - Optional</label>
            <div class="input-group">
              <input
                type="number"
                id="velX"
                class="input"
                step="0.01"
                value="0"
              />
              <input
                type="number"
                id="velY"
                class="input"
                step="0.01"
                value="0"
              />
              <input
                type="number"
                id="velZ"
                class="input"
                step="0.01"
                value="0"
              />
            </div>
          </div>

          <div class="form-group">
            <label class="label">Mass</label>
            <input
              type="number"
              id="mass"
              class="input"
              step="0.0001"
              required
            />
          </div>

          <div class="form-group">
            <label class="label">Color (Optional)</label>
            <input type="color" id="color" class="input" />
          </div>

          <button type="submit" class="button">Add Planet</button>
        </form>

        <!-- Planet List -->
        <div class="planet-list" id="planetList">
          <!-- Planets will be added here dynamically -->
        </div>

        <!-- Save Scenario -->
        <div class="controls">
          <button id="saveScenario" class="button">Save Scenario</button>
          <button id="clearScenario" class="button secondary">Clear All</button>
        </div>
      </div>

      <div class="main-content">
        <div id="canvasparent"></div>
        <div class="status-bar">
          <span id="scenarioStatus">No scenario loaded</span>
          <span id="planetCount">0 planets</span>
        </div>
      </div>
    </div>

    <script
      type="module"
      src="{{ url_for('static', filename='js/scenario_builder.js') }}"
    ></script>
  </body>
</html>
